{
    "format_version": "1.10.0",
    "minecraft:client_entity": {
        "description": {
            "identifier": "minecraft:player",
            "materials": {
                "default": "entity_alphatest",
                "cape": "entity_alphatest",
                "animated": "player_animated",
                "minelp.default": "entity_alphatest",
                "minelp.magic": "pony_magic"
            },
            "textures": {
                "default": "textures/entity/steve",
                "cape": "textures/entity/cape_invisible",
                "minelp.default": "textures/entity/minelp.pony.steve",
                "minelp.seapony": "textures/entity/player_seapony/minelp.seapony",
                "minelp.magic_color_0":  "textures/magic/0",
                "minelp.magic_color_1":  "textures/magic/1",
                "minelp.magic_color_2":  "textures/magic/2",
                "minelp.magic_color_3":  "textures/magic/3",
                "minelp.magic_color_4":  "textures/magic/4",
                "minelp.magic_color_5":  "textures/magic/5",
                "minelp.magic_color_6":  "textures/magic/6",
                "minelp.magic_color_7":  "textures/magic/7",
                "minelp.magic_color_8":  "textures/magic/8",
                "minelp.magic_color_9":  "textures/magic/9",
                "minelp.magic_color_10": "textures/magic/10",
                "minelp.magic_color_11": "textures/magic/11",
                "minelp.magic_color_12": "textures/magic/12",
                "minelp.magic_color_13": "textures/magic/13",
                "minelp.magic_color_14": "textures/magic/14"
            },
            "geometry": {
                "default": "geometry.humanoid.custom",
                "minelp.default": "geometry.minelp.pony.player",
				"minelp.hold.magic": "geometry.minelp.pony.magic.hold",
				"minelp.hold": "geometry.minelp.pony.hold",
                "cape": "geometry.cape"
            },
            "scripts": {
                "variables": {
                  "variable.minelp_ispony": "public"
                },
                "scale": "0.9375",
                "initialize": [
                    "variable.is_blocking_main_hand = 0.0;",
                    "variable.is_blocking_off_hand = 0.0;",
                    "variable.is_holding_right = 0.0;",
                    "variable.is_holding_left = 0.0;",
                    "variable.is_blinking = 0.0;",
                    "variable.last_blink_time = 0.0;",
                    "variable.hand_bob = 0.0;"
                ],
                "pre_animation": [
                    "variable.minelp_ispony = 1;",
					"variable.minelp_isseapony = 1;",
					"variable.minelp_iszebra = 0;",
					"variable.minelp_seapony_texture = variable.minelp_isseapony == 1 && query.is_in_water;",
                    "variable.minelp.horn_type = 1;",
                    "variable.minelp.wing_type = 1;",
                    "variable.minelp.ear_type = 0;",
                    "variable.minelp.muzzle_type = 2;",
                    "variable.minelp.has_witch_hat = 0;",
                    "variable.minelp.has_muffin_hat = 0;",
                    "variable.minelp.has_stetson = 0;",
                    "variable.minelp.has_antlers = 0;",
                    "variable.minelp.has_saddlebags = 0;",
                    "variable.minelp.magic_color = 13;",
                    "variable.minelp.handedness = 0;",
					"variable.minelp.tail_length = 1;",
					"variable.minelp.arm_leg_thickness = 0;",
                    "variable.movement_leg_angle = (Math.cos(query.modified_distance_moved * 38.17) * query.modified_move_speed / variable.gliding_speed_value) * 20;",
                    "variable.x_bob = Math.sin(query.life_time * 76.776372) * 5.865;",
                    "variable.z_bob = Math.cos(query.life_time * 93.13244) * 2.865 + 2.865;",
                    "variable.attack = Math.sin((1.0 - (1.0 - variable.attack_time) * (1.0 - variable.attack_time)) * 180.0) * 57.3;",
                    "variable.attack2 = Math.sin(variable.attack_time * 180.0) * 57.3;",
                    "variable.is_blocking_main_hand = query.get_equipped_item_name(0, 1) == 'shield';",
                    "variable.is_blocking_off_hand = query.get_equipped_item_name('off_hand') == 'shield';",
                    "variable.helmet_layer_visible = 1.0;",
                    "variable.leg_layer_visible = 1.0;",
                    "variable.boot_layer_visible = 1.0;",
                    "variable.chest_layer_visible = 1.0;",
                    "variable.attack_body_rot_y = Math.sin(360*Math.sqrt(variable.attack_time)) * 5.0;",
                    "variable.tcos0 = (math.cos(query.modified_distance_moved * 38.17) * query.modified_move_speed / variable.gliding_speed_value) * 57.3;",
                    "variable.first_person_rotation_factor = math.sin((1 - variable.attack_time) * 180.0);",
                    "variable.hand_bob = query.life_time < 0.01 ? 0.0 : variable.hand_bob + ((query.is_on_ground && query.is_alive ? math.clamp(math.sqrt(math.pow(query.position_delta(0), 2.0) + math.pow(query.position_delta(2), 2.0)), 0.0, 0.1) : 0.0) - variable.hand_bob) * 0.02;",
                    "variable.map_angle = math.clamp(1 - variable.player_x_rotation / 45.1, 0.0, 1.0);",
                    "variable.item_use_normalized = query.main_hand_item_use_duration / query.main_hand_item_max_duration;",
					"variable.hand_bob.inverted = (math.cos(query.life_time * 103.2) * 2.865) + 2.865;"
                ],
                "animate": [
                    "root",
                    "show_movement.tail",
                    "bob.tail",
					{ "seapony": "variable.minelp_isseapony == 1 && query.is_in_water" },
                    { "shield.left": "variable.minelp_ispony == 1 && query.get_equipped_item_name('off_hand') == 'shield'" },
                    { "show_movement.legs": "(variable.minelp.wing_type == 0 && variable.minelp_ispony == 1) || (query.is_on_ground * variable.minelp_ispony == 1)" },
                    { "show_movement.arms": "(variable.minelp.wing_type == 0 && variable.minelp_ispony == 1 && !variable.is_first_person) || (query.is_on_ground * variable.minelp_ispony == 1 && !variable.is_first_person)" },
                    { "bob.inverted": "!variable.is_first_person  && (variable.minelp_ispony ?? 0.0) == 1.0 && query.is_on_screen" },
                    { "pony.sneak": "!variable.is_first_person  && (variable.minelp_ispony ?? 0.0) == 1.0 && query.is_sneaking && !query.is_in_water" },
					{ "flying": "!variable.is_first_person  && (variable.minelp_ispony ?? 0.0) == 1.0 && variable.minelp.wing_type == 1 && !query.is_on_ground && !query.is_in_water" },
					{ "fly_move.controller": "!variable.is_first_person  && (variable.minelp_ispony ?? 0.0) == 1.0 && variable.minelp.wing_type == 1 && !query.is_in_water" },
					{ "swim.head": "!variable.is_first_person  && (variable.minelp_ispony ?? 0.0) == 1.0 && query.is_swimming" },
					{ "magic.hold": "variable.is_first_person && variable.minelp.horn_type > 0  && variable.minelp_ispony == 1.0" }
                ]
            },
            "animations": {
				"seapony": "animation.player.seapony",
                "pony.sneak": "animation.player.pony.sneaking",
                "bob.inverted": "animation.player.bob.inverted",
                "shield.left": "animation.player.shield.left",
				"flying": "animation.player.fly",
				"fly_move.controller": "controller.animation.player.fly",
				"fly.move": "animation.player.fly.move",
				"fly.sprint": "animation.player.fly.sprint",
				"swim.head": "animation.player.swim.head",
				"magic.hold": "animation.player.first_person.empty_hand_magic",
                "show_movement.leftArm": "animation.minelp.pony.show_movement.leftArm",
                "show_movement.rightArm": "animation.minelp.pony.show_movement.rightArm",
                "show_movement.arms": "animation.minelp.pony.show_movement.arms",
                "show_movement.legs": "animation.minelp.pony.show_movement.legs",
                "show_movement.tail": "animation.minelp.pony.show_movement.tail.modified",
                "bob.tail": "animation.minelp.pony.bob.tail",
                "big_head": "animation.minelp.pony.big_head",
                "root": "controller.animation.player.root",
                "base_controller": "controller.animation.player.base",
                "hudplayer": "controller.animation.player.hudplayer",
                "humanoid_base_pose": "animation.humanoid.base_pose",
                "look_at_target": "controller.animation.humanoid.look_at_target",
                "look_at_target_ui": "animation.player.look_at_target.ui",
                "look_at_target_default": "animation.humanoid.look_at_target.default",
                "look_at_target_gliding": "animation.humanoid.look_at_target.gliding",
                "look_at_target_swimming": "animation.humanoid.look_at_target.swimming",
                "look_at_target_inverted": "animation.player.look_at_target.inverted",
                "cape": "animation.player.cape",
                "move.arms": "animation.player.move.arms",
                "move.legs": "animation.player.move.legs",
                "swimming": "animation.player.swim",
                "swimming.legs": "animation.player.swim.legs",
                "riding.arms": "animation.player.riding.arms",
                "riding.legs": "animation.player.riding.legs",
                "holding": "animation.player.holding",
                "brandish_spear": "animation.humanoid.brandish_spear",
                "holding_spyglass": "animation.humanoid.holding_spyglass",
                "charging": "animation.humanoid.charging",
                "attack.positions": "animation.player.attack.positions",
                "attack.rotations": "animation.player.attack.rotations",
                "sneaking": "animation.player.sneaking",
                "bob": "animation.player.bob",
                "damage_nearby_mobs": "animation.humanoid.damage_nearby_mobs",
                "bow_and_arrow": "animation.humanoid.bow_and_arrow",
                "use_item_progress": "animation.humanoid.use_item_progress",
                "skeleton_attack": "animation.skeleton.attack",
                "sleeping": "animation.player.sleeping",
                "first_person_base_pose": "animation.player.first_person.base_pose",
                "first_person_empty_hand": "animation.player.first_person.empty_hand",
                "first_person_swap_item": "animation.player.first_person.swap_item",
                "first_person_shield_block": "animation.player.first_person.shield_block",
                "first_person_attack_controller": "controller.animation.player.first_person_attack",
                "first_person_attack_rotation": "animation.player.first_person.attack_rotation",
                "first_person_vr_attack_rotation": "animation.player.first_person.vr_attack_rotation",
                "first_person_walk": "animation.player.first_person.walk",
                "first_person_map_controller": "controller.animation.player.first_person_map",
                "first_person_map_hold": "animation.player.first_person.map_hold",
                "first_person_map_hold_attack": "animation.player.first_person.map_hold_attack",
                "first_person_map_hold_off_hand": "animation.player.first_person.map_hold_off_hand",
                "first_person_map_hold_main_hand": "animation.player.first_person.map_hold_main_hand",
                "first_person_crossbow_equipped": "animation.player.first_person.crossbow_equipped",
                "third_person_crossbow_equipped": "animation.player.crossbow_equipped",
                "third_person_bow_equipped": "animation.player.bow_equipped",
                "crossbow_hold": "animation.player.crossbow_hold",
                "crossbow_controller": "controller.animation.player.crossbow",
                "shield_block_main_hand": "animation.player.shield_block_main_hand",
                "shield_block_off_hand": "animation.player.shield_block_off_hand",
                "blink": "controller.animation.persona.blink"
            },
            "render_controllers": [
                { "controller.render.player.first_person": "variable.is_first_person && (variable.minelp_ispony ?? 0.0) != 1.0" },
                { "controller.render.player.third_person": "!variable.is_first_person && (variable.minelp_ispony ?? 0.0) != 1.0 || query.is_emoting" },
                { "controller.render.player.map": "variable.map_face_icon" },
                { "controller.render.minelp.pony.player": "!variable.is_first_person && (variable.minelp_ispony ?? 0.0) == 1.0 && !query.is_emoting" },
                { "controller.render.minelp.pony.magic": "(variable.minelp_ispony ?? 0.0) == 1.0 && variable.minelp.horn_type >= 1.0 && !query.is_emoting" },
                { "controller.render.minelp.pony.first_person": "variable.is_first_person && (variable.minelp_ispony ?? 0.0) == 1.0 && variable.minelp.horn_type == 0" },
				{ "controller.render.minelp.pony.magic.hold": "!variable.is_first_person && (variable.minelp_ispony ?? 0.0) == 1.0 && variable.minelp.horn_type > 0 && !query.is_emoting" },
				{ "controller.render.minelp.pony.magic_first": "variable.is_first_person && (variable.minelp_ispony ?? 0.0) == 1.0  && variable.minelp.horn_type > 0" },
				{ "controller.render.minelp.pony.hold": "!variable.is_first_person && (variable.minelp_ispony ?? 0.0) == 1.0 && variable.minelp.horn_type == 0 && !query.is_emoting" },
				{ "controller.render.minelp.pony.hold_first": "variable.is_first_person && (variable.minelp_ispony ?? 0.0) == 1.0  && variable.minelp.horn_type == 0" }
            ],
            "enable_attachables": true
        }
    }
}
